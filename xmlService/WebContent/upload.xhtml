<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="/templates/page-template.xhtml">
	<ui:define name="title">Upload page</ui:define>

	<ui:define name="header">Upload page</ui:define>
	<ui:define name="panel-main">
		<section>
			<h:messages style="color:red" />
			<h:form enctype="multipart/form-data">
				<p:fileUpload value="#{fileWrapper.file}" mode="simple"></p:fileUpload>
				<p:separator />
				<h:commandButton value="Show content"
					action="#{fileWrapper.processXLSX}"></h:commandButton>
				<p:separator />
				<h:panelGroup>
					
						<ui:repeat value="#{fileWrapper.myMap.keySet().toArray()}" 
							var="key">
							<b>#{key}</b>
							<br />
							<ui:repeat var="list" value="#{fileWrapper.myMap[key]}">
							<ui:repeat var="items" value="#{list}">							
								#{items}			
							</ui:repeat>
							<br />										
							</ui:repeat>	
							<br />	
						</ui:repeat>
					
				</h:panelGroup>
			</h:form>
		</section>
	</ui:define>

</ui:composition>
</html>